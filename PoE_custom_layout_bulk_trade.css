/* ==UserStyle==
@name         PoE - custom layout (bulk trade)
@version      1.7.1
@description  Custom layout for an official PathOfExile trade site (bulk trade section a.k.a. "exchange")
@author       regularPoEplayer
@homepageURL  https://github.com/regPoEp/PoEtools

@namespace    PathOfExile/regularPoEplayer
==/UserStyle== */

/*
Table of contents:
	Options
	Miscellaneous
	Search panel
	Search results
	Category icons
	Catch new items
	"Currency" section
	"Shards & Splinters" section
	"Fragments & Sets" section
	"Scarabs" section
	"Exotic Currency" section
	"Resonators" section
	"Fossils" section
	"Essences" section
	"Maps" section
*/

:root {
    /* firm values */

    --poe-custom-layout-absolute-max-width: 1530px !important;
    --poe-custom-layout-absolute-horizontal-padding: 10px !important;
    --poe-custom-background-color: black !important;

    --poe-custom-filter-title-color: rgb(255, 248, 225) !important;
    --poe-custom-filter-title-background-color: rgba(45, 49, 54, 0.3) !important;
    --poe-custom-filter-title-border-color: rgb(99, 73, 40) !important;
    --poe-custom-item-text-color: rgb(163, 141, 109) !important;
    --poe-custom-item-text-background-color: rgba(0, 0, 0, 0.5) !important;
    --poe-custom-item-text-border-color: rgb(30, 33, 36) !important;
    --poe-custom-item-text-font-family: FontinSmallcaps, sans-serif !important;
    --poe-custom-item-color-search-highlighted: #abab5a !important;
    --poe-custom-button-background-color-grey: #1e2124 !important;

    --poe-custom-filter-title-height: 30px !important;
    --poe-custom-filter-title-bottom-margin: 3px !important;
    --poe-custom-filter-title-text-vertical-padding: 6px !important;
    
    /* custom values */

    --poe-custom-filter-group-name-color: #cec59f !important;
    --poe-custom-item-text-font-family-enhanced: "Helvetica Neue","Helvetica",Helvetica,Arial,sans-serif !important;
    --poe-custom-item-color-dimmed: Grey !important;

    --poe-custom-image-size: 32px !important;
    --poe-custom-image-size-double: calc(2 * var(--poe-custom-image-size)) !important;
    --poe-custom-item-size: calc(var(--poe-custom-image-size) + 8px) !important;
    --poe-custom-item-size-double: calc(var(--poe-custom-item-size) + var(--poe-custom-image-size)) !important;
    --poe-custom-item-margin: 2px !important;
    --poe-custom-item-distance: calc(var(--poe-custom-item-size) + var(--poe-custom-item-margin)) !important;

    --poe-custom-lures-indent: 0px !important;
    --poe-custom-fragment-set-indent: 0px !important;
    --poe-custom-is-cards-width-doubled: 0 !important;
}

/*------------------------------
	Options
------------------------------*/

.split:last-of-type {
    color: red !important;
}



/* hide legacy items */

:root {
    --poe-custom-lures-indent: calc(1.5 * var(--poe-custom-item-distance)) !important;
}

[data-id=eternal], [data-id=infused-engineers-orb]
, [data-id=ancient-reliquary-key], [data-id=timeworn-reliquary-key], [data-id=vaal-reliquary-key]
, [data-id=whispering-incubator], [data-id=gemcutters-incubator], [data-id=feral-incubator], [data-id=fine-incubator], [data-id=eldritch-incubator], [data-id=time-lost-incubator]
, [data-id=primitive-alchemical-resonator], [data-id=potent-alchemical-resonator], [data-id=powerful-alchemical-resonator], [data-id=prime-alchemical-resonator]
, [data-id=delirium-orb], [data-id=kalguuran-delirium-orb], [data-id=portentous-delirium-orb], [data-id=primal-delirium-orb]
, [data-id=armour-recombinator], [data-id=weapon-recombinator], [data-id=jewellery-recombinator]
, [data-id=farric-lure], [data-id=saqawine-lure], [data-id=fenumal-lure], [data-id=craicic-lure]
{
    display: none !important;
}

[data-id=gold] {
    display: none !important;
}

/* hide fragment sets */

:root {
    --poe-custom-fragment-set-indent: calc(0.5 * var(--poe-custom-item-distance)) !important;
}

[data-id=sacrifice-set], [data-id=mortal-set], [data-id=crest-of-the-elderslayers], [data-id=shaper-set], [data-id=key-to-decay], [data-id=maddening-object] {
    display: none !important;
}

/* configure variables related to doubling the width of the "Cards" and "Prophecies" sections */

:root {
    --poe-custom-is-cards-width-doubled: 1 !important;
}

/* configure variables related to changing color/font */

:root {
    --poe-custom-item-text-color: #b1a38e !important;
    --poe-custom-item-text-background-color: #111 !important;
    --poe-custom-item-text-border-color: var(--poe-custom-item-text-background-color) !important;
    --poe-custom-item-text-font-family: var(--poe-custom-item-text-font-family-enhanced) !important;
}



/* change color, font family and background color of text items */

.exchange-filter-item.text {
    color:  var(--poe-custom-item-text-color) !important;
    font-family: var(--poe-custom-item-text-font-family) !important;
}

.exchange-filter-item.text:not(.highlighted):not(.active):not(:hover) {
    background-color: var(--poe-custom-item-text-background-color) !important;
    border-color: var(--poe-custom-item-text-border-color) !important;
}

/* fixing overlapping of sections with doubled width */
.search-advanced-pane:nth-child(1) > .filter-group:first-child > .filter-group-body > .filter:nth-child(18) {
    z-index: var(--poe-custom-is-cards-width-doubled) !important;
}

@media (min-width: 1200px) {
    /* double the width of containers */
    .search-advanced-pane:nth-child(1) > .filter-group:first-child > .filter-group-body > :is(
        .filter:nth-child(18),
        .filter:nth-child(22)
    ) > .filter-options {
        /*--padding-top-row-height: calc(( var(--poe-custom-filter-title-height) + var(--poe-custom-filter-title-bottom-margin) ) * var(--poe-custom-is-cards-width-doubled)) !important;*/
        
        width: calc(100% + (100% + 20px) * var(--poe-custom-is-cards-width-doubled)) !important;
    }
    
    /* double the width of the cards container */
    /*.search-advanced-pane:nth-child(1) > .filter-group:first-child > .filter-group-body > .filter:nth-child(18) > .filter-options {
        padding-top: calc(4 * var(--padding-top-row-height)) !important;
    }*/
    .search-advanced-pane:nth-child(1) > .filter-group:first-child > .filter-group-body > .filter:nth-child(18) > .filter-title:has(+.filter-options) {
        padding-bottom: calc( var(--poe-custom-filter-title-text-vertical-padding) + 4 * calc(( var(--poe-custom-filter-title-height) + var(--poe-custom-filter-title-bottom-margin) ) * var(--poe-custom-is-cards-width-doubled)) ) !important;
    }
    
}



/*------------------------------
	Miscellaneous
------------------------------*/

/* re-order sections */

.filter-group:first-child > .filter-group-body {
    display: flex !important;
    flex-wrap: nowrap !important;
    flex-direction: column !important;
}
.filter-group:first-child > .filter-group-body > .filter:nth-child(1)  { order:  10 !important; } /* Currency */
.filter-group:first-child > .filter-group-body > .filter:nth-child(2)  { order:  20 !important; } /* Exotic Currency */
.filter-group:first-child > .filter-group-body > .filter:nth-child(3)  { order:  51 !important; } /* Ancestor Currency */
.filter-group:first-child > .filter-group-body > .filter:nth-child(4)  { order:  52 !important; } /* Sanctum & Unique Relics */
.filter-group:first-child > .filter-group-body > .filter:nth-child(5)  { order:  30 !important; } /* Shards & Splinters */
.filter-group:first-child > .filter-group-body > .filter:nth-child(6)  { order:  40 !important; } /* Fragments & Sets */
.filter-group:first-child > .filter-group-body > .filter:nth-child(7)  { order:  60 !important; } /* Memory Lines */
.filter-group:first-child > .filter-group-body > .filter:nth-child(8)  { order:  70 !important; } /* Scouting Reports */
.filter-group:first-child > .filter-group-body > .filter:nth-child(9)  { order:  80 !important; } /* Expedition Currencies */
.filter-group:first-child > .filter-group-body > .filter:nth-child(10) { order:  90 !important; } /* Delirium Orbs */
.filter-group:first-child > .filter-group-body > .filter:nth-child(11) { order: 100 !important; } /* Catalysts */
.filter-group:first-child > .filter-group-body > .filter:nth-child(12) { order: 110 !important; } /* Oils */
.filter-group:first-child > .filter-group-body > .filter:nth-child(13) { order: 120 !important; } /* Incubators */
.filter-group:first-child > .filter-group-body > .filter:nth-child(14) { order:  50 !important; } /* Scarabs */
.filter-group:first-child > .filter-group-body > .filter:nth-child(15) { order: 130 !important; } /* Delve Resonators */
.filter-group:first-child > .filter-group-body > .filter:nth-child(16) { order: 140 !important; } /* Delve Fossils */
.filter-group:first-child > .filter-group-body > .filter:nth-child(17) { order: 150 !important; } /* Essences */
.filter-group:first-child > .filter-group-body > .filter:nth-child(18) { order: 160 !important; } /* Cards */
.filter-group:first-child > .filter-group-body > .filter:nth-child(19) { order: 170 !important; } /* Maps */
.filter-group:first-child > .filter-group-body > .filter:nth-child(20) { order: 180 !important; } /* Maps (Blighted) */
.filter-group:first-child > .filter-group-body > .filter:nth-child(21) { order: 190 !important; } /* Maps (Blight-ravaged) */
.filter-group:first-child > .filter-group-body > .filter:nth-child(22) { order: 200 !important; } /* Maps (Unique) */

/* hide borders for icon items */
.exchange-filter-item:not(.text):not(.highlighted):not(.active) {
    border-color: transparent !important;
}

/* change color of names for filter-groups */
.filter-group-header > .filter > .filter-title {
    color: var(--poe-custom-filter-group-name-color) !important;
}

/* hide non-functional filter-group-header buttons */
.filter-group-header > .filter > .input-group-btn:nth-of-type(1) {
    display: none !important;
}
/* adjust position of filter-group-header text */
.filter-group-header > .filter > .filter-title {
    padding-left: 13px !important;
}

/* add "I want/I have" after headers of search filters */
.search-advanced-pane:nth-child(1) > .filter-group:first-child > .filter-group-body > .filter > .filter-title-clickable > span:not(.pull-right)::after {
    content: " I want" !important;
    color: var(--poe-custom-item-color-dimmed) !important;
}
.search-advanced-pane:nth-child(2) > .filter-group:first-child > .filter-group-body > .filter > .filter-title-clickable > span:not(.pull-right)::after {
    content: " I have" !important;
    color: var(--poe-custom-item-color-dimmed) !important;
}

/* adjust right position of the clear button to match other sections */
.controls > .controls-right {
    padding-right: 7px !important;
}

/* reduce size of the logo */
.logo > a {
    max-width: calc(3 * var(--poe-custom-image-size)) !important;
}



/* add visuals for modified highlight items input */
.search-panel > .search-bar:not(search-advanced) > .search-left > input:not(:placeholder-shown) {
    border: 1px solid var(--poe-custom-item-color-search-highlighted) !important;
    /*outline: 1px solid var(--poe-custom-item-color-search-highlighted) !important;*/
}

/* add extra pixel between elements of search bar */
.search-panel > .search-bar:not(search-advanced) > .search-left {
    padding-right: 1px !important;
}
.search-panel > .search-bar:not(search-advanced) > .search-right > .multiselect.status-select:nth-child(1) {
    box-sizing: border-box !important;
    padding-right: 0.5px !important;
}
.search-panel > .search-bar:not(search-advanced) > .search-right > .multiselect.status-select:nth-child(2) {
    box-sizing: border-box !important;
    padding-left: 0.5px !important;
    padding-right: 0.5px !important;
}
.search-panel > .search-bar:not(search-advanced) > .search-right > .multiselect.status-select:nth-child(3) {
    box-sizing: border-box !important;
    padding-left: 0.5px !important;
}



/*------------------------------
	Search panel
------------------------------*/

@media (min-width: 1200px) {

    :root {
        --poe-custom-search-highlight-input-left: 15px !important;
        --poe-custom-search-highlight-input-width: 256px !important;
        --poe-custom-search-stock-label-left: calc(35px + var(--poe-custom-search-highlight-input-left) + var(--poe-custom-search-highlight-input-width)) !important;
        --poe-custom-search-stock-label-width: 37.5px !important;
        --poe-custom-search-stock-input-left: calc(8px + var(--poe-custom-search-stock-label-left) + var(--poe-custom-search-stock-label-width)) !important;
        --poe-custom-search-stock-input-width: 64px !important;
        --poe-custom-search-offset-right: 15px !important;
        --poe-custom-search-swap-button-right: calc(var(--poe-custom-search-offset-right) + 128px + 5px + 96px + 4px) !important;
        --poe-custom-search-height: 34px !important;

        /* bt offset-right */
        --poe-custom-search-bt-width: 400px !important;
        --poe-custom-search-bt-induced-offset: calc(var(--poe-custom-search-bt-width) / 2) !important;
    }

    /* pin search to the bottom of the page */

    /* move highlight items input */
    .search-panel > .search-bar:not(search-advanced) > .search-left > input {
        position: fixed !important;
        z-index: 3 !important;
        left: var(--poe-custom-search-highlight-input-left) !important;
        bottom: 0px !important;
        width: var(--poe-custom-search-highlight-input-width) !important;
    }

    /* add filler to parent of highlight items instead of moved input to keep layout */
    .search-panel > .search-bar:not(search-advanced) > .search-left::after {
        content: "" !important;
        width: 100% !important;
    }

    /* hide parent of stock input */
    .filter-group.blue > .filter-group-body > .filter.filter-property:nth-child(3) {
        visibility: hidden !important;
    }

    /* add text label before stock input */
    .filter-group.blue > .filter-group-body > .filter.filter-property:nth-child(3) > .filter-title::before {
        visibility: initial !important;
        content: "Stock" !important;
        display: block !important;
        position: fixed !important;
        z-index: 3 !important;
        left: var(--poe-custom-search-stock-label-left) !important;
        bottom: 0px !important;
        width: var(--poe-custom-search-stock-label-width) !important;
        height: 30px !important;
        padding: 6px 0px 6px 0px !important;
        margin: 2px 0px 2px 0px !important;
    }

    /* move stock input */
    .filter-group.blue > .filter-group-body > .filter.filter-property:nth-child(3) > input {
        visibility: initial !important;
        position: fixed !important;
        z-index: 3 !important;
        left: var(--poe-custom-search-stock-input-left) !important;
        bottom: 0px !important;
        width: var(--poe-custom-search-stock-input-width) !important;
        height: var(--poe-custom-search-height) !important;
    }

    /* +add black border */
    .filter-group.blue > .filter-group-body > .filter.filter-property:nth-child(3) > input:not(:focus):not(.modified) {
        border: 1px solid var(--poe-custom-background-color) !important;
    }

    /* move "swap want/have" button */
    .search-advanced-pane:nth-child(2) > .filter-group > .filter-group-header > .filter > .input-group-btn > button.filter-toggle {
        position: fixed !important;
        z-index: 3 !important;
        bottom: 0px !important;
        right: var(--poe-custom-search-swap-button-right) !important;
        height: var(--poe-custom-search-height) !important;
        margin: 0 !important;
        border: 1px solid var(--poe-custom-background-color) !important;
    }
    body.bt-body:not(.bt-is-collapsed) .search-advanced-pane:nth-child(2) > .filter-group > .filter-group-header > .filter > .input-group-btn > button.filter-toggle {
        right: calc(var(--poe-custom-search-swap-button-right) + var(--poe-custom-search-bt-width)) !important;
    }

    /* +add background color */
    .search-advanced-pane:nth-child(2) > .filter-group > .filter-group-header > .filter > .input-group-btn > button.filter-toggle:not(:active):not(:hover) {
        background-color: var(--poe-custom-button-background-color-grey) !important;
        /*background-color: #0f304d !important;
        background-color: #285f8f !important;*/
    }

    /* move search panel (containts buttons - search, clear, hide) */
    .search-panel > .controls {
        position: fixed !important;
        z-index: 2 !important;
        bottom: 0px !important;
        width: calc(100% - var(--poe-custom-layout-absolute-horizontal-padding)) !important;
        height: var(--poe-custom-search-height) !important;
        max-width: calc(var(--poe-custom-layout-absolute-max-width) - var(--poe-custom-layout-absolute-horizontal-padding)) !important;
        padding-top: 0px !important;
        padding-bottom: 0px !important;
        background-color: var(--poe-custom-background-color) !important;
    }
    body.bt-body:not(.bt-is-collapsed) .search-panel > .controls {
        width: calc(100% - var(--poe-custom-layout-absolute-horizontal-padding) - var(--poe-custom-search-bt-width)) !important;
    }
    
    .search-panel > .controls > .controls-left > div {
        display: none !important;
    }

    /* add space between search panel and search results */
    #trade > .top > .search-panel {
        padding-bottom: 6px;
    }

    /* adjust copyright position (overlaps with search button) */
    .container-fluid > .content > .bottom {
        bottom: 0px !important;
    }

    /* adjust "^^" fixed button position */
    #trade > .top-btn {
        bottom: var(--poe-custom-search-height) !important;
        right: var(--poe-custom-search-offset-right) !important;
    }
    body.bt-body:not(.bt-is-collapsed) #trade > .top-btn {
        bottom: var(--poe-custom-search-height) !important;
        right: calc(var(--poe-custom-search-offset-right) + var(--poe-custom-search-bt-width)) !important;
    }
    /*#trade > .top-btn {
        display: block !important;
        opacity: 1 !important;
        height: var(--poe-custom-search-height) !important;
        width: 39px !important;
    }*/
}

@media (min-width: 1530px) {
    :root {
        --poe-custom-horizontal-margin: calc((100% - var(--poe-custom-layout-absolute-max-width)) / 2) !important;
    }

    /* highlight items input */
    :is(body:not(.bt-body), body.bt-is-collapsed) .search-panel > .search-bar:not(search-advanced) > .search-left > input {
        left: calc(var(--poe-custom-search-highlight-input-left) + var(--poe-custom-horizontal-margin)) !important;
    }
    /* text label before stock input */
    :is(body:not(.bt-body), body.bt-is-collapsed) .filter-group.blue > .filter-group-body > .filter.filter-property:nth-child(3) > .filter-title::before {
        left: calc(var(--poe-custom-search-stock-label-left) + var(--poe-custom-horizontal-margin)) !important;
    }
    /* stock input */
    :is(body:not(.bt-body), body.bt-is-collapsed) .filter-group.blue > .filter-group-body > .filter.filter-property:nth-child(3) > input {
        left: calc(var(--poe-custom-search-stock-input-left) + var(--poe-custom-horizontal-margin)) !important;
    }
    /* "swap want/have" button */
    :is(body:not(.bt-body), body.bt-is-collapsed) .search-advanced-pane:nth-child(2) > .filter-group > .filter-group-header > .filter > .input-group-btn > button.filter-toggle {
        right: calc(var(--poe-custom-search-swap-button-right) + var(--poe-custom-horizontal-margin)) !important;
    }
}

@media (min-width: 1930px) {
    :root {
        --poe-custom-horizontal-margin: calc((100% - var(--poe-custom-layout-absolute-max-width)) / 2) !important;
    }

    /* highlight items input */
    body.bt-body:not(.bt-is-collapsed) .search-panel > .search-bar:not(search-advanced) > .search-left > input {
        left: calc(var(--poe-custom-search-highlight-input-left) + var(--poe-custom-horizontal-margin) - var(--poe-custom-search-bt-induced-offset)) !important;
    }
    /* text label before stock input */
    body.bt-body:not(.bt-is-collapsed) .filter-group.blue > .filter-group-body > .filter.filter-property:nth-child(3) > .filter-title::before {
        left: calc(var(--poe-custom-search-stock-label-left) + var(--poe-custom-horizontal-margin) - var(--poe-custom-search-bt-induced-offset)) !important;
    }
    /* stock input */
    body.bt-body:not(.bt-is-collapsed) .filter-group.blue > .filter-group-body > .filter.filter-property:nth-child(3) > input {
        left: calc(var(--poe-custom-search-stock-input-left) + var(--poe-custom-horizontal-margin) - var(--poe-custom-search-bt-induced-offset)) !important;
    }
    /* "swap want/have" button */
    body.bt-body:not(.bt-is-collapsed) .search-advanced-pane:nth-child(2) > .filter-group > .filter-group-header > .filter > .input-group-btn > button.filter-toggle {
        right: calc(var(--poe-custom-search-swap-button-right) + var(--poe-custom-horizontal-margin) + var(--poe-custom-search-bt-induced-offset)) !important;
    }
}



/*------------------------------
	Search results
------------------------------*/

/* LEFT (price per 1 unit) */

.row.exchange > .left {
    --small-image-size: 24px !important;

    --symbol-one-lenth: 7.61667px !important;
    --ratio-symbol-length: 4.01666px !important;
    --ratio-symbol-padding: 3.5px !important;
    --price-label-length: 49.2px !important;
    --price-label-length-extended: calc(var(--price-label-length) + var(--symbol-one-lenth) + var(--ratio-symbol-length) + 2 * var(--ratio-symbol-padding)) !important;
}

/* adjust font size */
.left > .price > .per-have,
.left > .price > .per-want {
    font-size: 15.6px !important;
}

.left > .price > :is(.per-have, .per-want) > span > .currency-text {
    font-size: 13px !important;
}

/* hide "x" between image and number */
.left > .price > :is(.per-have, .per-want) > span > span:nth-child(2) {
    display: none !important;
}

/* enlarge images of sellers and buyers items */
.left > .price > :is(.per-have, .per-want) > span > img {
    width: var(--small-image-size) !important;
    height: var(--small-image-size) !important;
}

/* move per-have image/text in between lines */
.left > .price > .per-have > span > :nth-child(3) {
    position: relative !important;
    vertical-align: top !important;
    top: 50% !important;
}

/* hide per-want image/text */
.left > .price > .per-want > span > :nth-child(3) {
    visibility: hidden !important;
}

.left > .price > .per-have > span:nth-child(3),
.left > .price > .per-want > span:nth-child(1) {
    display: flex !important;
    text-align: right !important;
}

/* move image/text of sellers item to the left */
.left > .price > .per-have > span:nth-child(3) > :nth-child(3),
.left > .price > .per-want > span:nth-child(1) > :nth-child(3) {
    order: -1 !important;
}

/* add min width to numbers */
.left > .price > :is(.per-have, .per-want) > span              > :nth-child(1) {
    display: inline-block !important;
    overflow: hidden !important;
}

.left > .price > :is(.per-have, .per-want) > span:nth-child(3) > :nth-child(1) {
    min-width: var(--price-label-length) !important;
    max-width: var(--price-label-length) !important;
}

/* extend length to center around :1: */
.left > .price > :is(.per-have, .per-want) > span:nth-child(1) > :nth-child(1) {
    min-width: var(--price-label-length-extended) !important;
    max-width: var(--price-label-length-extended) !important;
    color: #a38d6d !important;
}

/* set min width to prevent images being pushed to the next line */
.left > .price > :is(.per-have, .per-want) > span:nth-child(3) {
    min-width: calc(var(--small-image-size) + var(--price-label-length)) !important;
}
.left > .price > :is(.per-have, .per-want) > span:nth-child(1) {
    min-width: calc(var(--small-image-size) + var(--price-label-length-extended)) !important;
}

/* (replace "is worth" with colon arrows) */

/* hide "is worth" */
.left > .price > :is(.per-have, .per-want) > span:nth-child(2) {
    display: none !important;
}

/* re-order items */
.left > .price > :is(.per-have, .per-want) {
    display: flex !important;
    flex-direction: row !important;
    flex-wrap: nowrap !important;
}

.left > .price > .per-have > span:nth-child(1) { order: 1 !important; }
.left > .price > .per-have > span:nth-child(3) { order: -1 !important; }
.left > .price > .per-want > span:nth-child(1) { order: -1 !important; }
.left > .price > .per-want > span:nth-child(3) { order: 1 !important; }

/* +padding */
.left > .price > :is(.per-have, .per-want)::after {
    content: ":" !important;
    padding: 0 var(--ratio-symbol-padding) !important;
}



/* MIDDLE */

/*.row.exchange > .middle {*/
.results {
    --middle-price-left-right-padding: 8px !important;
    --middle-price-font-size: 20px !important;
    --middle-image-size: var(--poe-custom-image-size) !important;
    
    --middle-price-tag-width: 60px !important;
    --middle-nbsp-width: 3.52px !important;
    --middle-leftwards-double-arrow-width: 33.33px !important;
}

/* add pseudo "what you get" / "what you pay" to the header */
.row.row-total::before,
.row.row-total::after {
    font-family: "FontinSmallcaps" !important;
    font-size: 13px !important;
    position: absolute !important;
    --horizontal-position: calc(50% + var(--middle-leftwards-double-arrow-width) / 2 + var(--middle-price-tag-width) + var(--middle-price-left-right-padding)) !important;
}
.row.row-total::before {
    content: "what you get" !important;
    right: var(--horizontal-position) !important;
}
.row.row-total::after {
    content: "what you pay" !important;
    left: var(--horizontal-position) !important;
}

/* hide reminders "what you get" / "what you pay" */
.middle > .price > :is(.price-left, .price-right) > small {
    display: none !important;
}

/* hide "x" beteen name of the item/currency and its quantity */
.middle > .price > .price-left > .price-block > :nth-last-child(2),
.middle > .price > .price-right > .price-block > :nth-child(2) {
    display: none !important;
}

/* enlarge price numbers in the middle */
.middle > .price > .price-left > .price-block > :nth-last-child(1),
.middle > .price > .price-right > .price-block > :nth-child(1) {
    font-size: var(--middle-price-font-size) !important;
    min-width: var(--middle-price-tag-width) !important;
}

/* enlarge "⇐" in the middle */
.middle > .price > span:nth-child(2) {
    font-size: var(--middle-price-font-size) !important;
}

/* prevent text from pushing icon and number to the next line */
.middle > .price > :is(.price-left, .price-right) > .price-block > * {
    vertical-align: top !important;
}
/* text + icon */
.middle > .price > .price-left > .price-block > .currency-text:nth-last-child(4),
.middle > .price > .price-right > .price-block > .currency-text:nth-child(6) {
    max-width: calc(100% - var(--middle-price-tag-width) - var(--middle-nbsp-width) - var(--middle-image-size)) !important;
}
/* text NO icon */
.middle > .price > .price-left > .price-block > .currency-text:nth-last-child(3),
.middle > .price > .price-right > .price-block > .currency-text:nth-child(3) {
    max-width: calc(100% - var(--middle-price-tag-width) - var(--middle-nbsp-width)) !important;
}

/* fix double padding-margin with item texts */
.middle > .price > .price-left,
.contact > .slider > .slider-left {
    padding-left: 0px !important;
}
.middle > .price > .price-right,
.contact > .slider > .slider-right {
    padding-right: 0px !important;
}



/* RIGHT (seller) */

/* set normal font weight for seller account name */
.right > .details > .info > .pull-right > .profile-link > a {
    font-weight: normal !important;
}

/* dim ignore button */
.right > .details > .btns > .pull-right > button.ignore-btn {
    color: var(--poe-custom-item-color-dimmed) !important;
}

/* dim account name 
.right > .details > .info > .pull-right > .profile-link > a {
    color: var(--poe-custom-item-color-dimmed) !important;
}*/

/* hide item name after "Stock:#" */
.right > .details > .info > .stock > .currency-text {
    display: none !important;
}



/* Highlight numbers */

/* N buyers currency per 1 sellers item */
.left > .price > .per-want > span:last-child > span:nth-child(1),
/* 1 buyers currency per M sellers item */
.left > .price > .per-have > span:last-child > span:nth-child(1),
/* M sellers items per trade */
.middle > .price > .price-left > .price-block > :nth-last-child(1),
/* N buyers currency per trade */
.middle > .price > .price-right > .price-block > :nth-child(1),
/* sellers stock quantity */
.right > .details > .info > .stock > span:first-of-type {
    /*color: var(--poe-custom-filter-title-color) !important;*/
    color: Beige !important;
    /*color: #e2e2e2 !important;*/
}

#trade .filter-group .filter-group-body .filter-title {
    color: Beige !important;
}



/* make it responsive */

@media (max-width: 1199px) {
    .row.exchange {
        display: flex !important;
        flex-direction: row !important;
        flex-wrap: wrap !important;
    }

    .row.exchange > .left       { order: 2 !important; width:  50% !important; }
    .row.exchange > .middle     { order: 1 !important; width: 100% !important; padding-bottom: 10px !important; }
    .row.exchange > .right      { order: 3 !important; width:  50% !important; }
    .row.exchange > .contact    { order: 4 !important; width: 100% !important; }
}

@media (max-width: 991px) {
    .contact > .slider {
        display: flex !important;
        flex-direction: row !important;
        flex-wrap: wrap !important;
    }

    .contact > .slider > .slider-left   { order: 1 !important; width:  50% !important; }
    .contact > .slider > .slider-middle { order: 3 !important; width: 100% !important; }
    .contact > .slider > .slider-right  { order: 2 !important; width:  50% !important; }

    .right > .details > .btns > :is(.pull-left, .pull-right) { width: auto !important; }
}



/*------------------------------
	Category icons
------------------------------*/

.filter-group {
    --image-size: 24px !important;
    --image-size-scale-to: 24 !important;
    --image-original-size-scale-from: 48 !important;
    --image-original-size-scuffed-scale-from: 47 !important;
    --image-original-size-large-scale-from: 95 !important;
    --image-position-left: 6px !important;
}

/* adjust position of filter-group-header text */
.filter-group-header > .filter > .filter-title {
    padding-left: var(--image-position-left) !important;
}

/* remove left border */
.filter-group:first-child > .filter-group-body > .filter > .filter-title-clickable {
    border-left: none !important;
}

/* setup ::before */
.filter-group:first-child > .filter-group-body > .filter > .filter-title-clickable > span:first-child::before {
    position: absolute !important;
    transform: scale(calc( var(--image-size-scale-to) / var(--image-original-size-scale-from) )) !important;
    transform-origin: 0% 0% !important;
    left: var(--image-position-left) !important;
    top: calc( (var(--poe-custom-filter-title-height) - var(--image-size)) / 2 ) !important;
}

/* special handling of scuffed image size */
.filter-group:first-child > .filter-group-body > :is(
    .filter:nth-child(8),
    .filter:nth-child(9),
    .filter:nth-child(20),
    .filter:nth-child(21)
) > .filter-title-clickable > span:first-child::before {
    transform: scale(calc( var(--image-size-scale-to) / var(--image-original-size-scuffed-scale-from) )) !important;
}

/* special handling of large image size */
.filter-group:first-child > .filter-group-body > :is(
    .filter:nth-child(15)
) > .filter-title-clickable > span:first-child::before {
    transform: scale(calc( var(--image-size-scale-to) / var(--image-original-size-large-scale-from) )) !important;
}

/* special handling of 47*94 image size */
.filter-group:first-child > .filter-group-body > :is(
    .filter:nth-child(4)
) > .filter-title-clickable > span:first-child::before {
    transform: scale(calc( var(--image-size-scale-to) / 94 )) !important;
    transform-origin: 18% 0% !important;
}

/* push headers to the right */
.filter-group:first-child > .filter-group-body > .filter > .filter-title-clickable > span:first-child {
    margin-left: calc(var(--image-position-left) + var(--image-size)) !important;
}

/* add corresponding image to each header */

.filter-group:first-child > .filter-group-body > .filter:nth-child(1) > .filter-title-clickable > span:first-child::before {
    content: url("https://web.poecdn.com/gen/image/WzI1LDE0LHsiZiI6IjJESXRlbXMvQ3VycmVuY3kvQ3VycmVuY3lSZXJvbGxSYXJlIiwic2NhbGUiOjF9XQ/46a2347805/CurrencyRerollRare.png") !important;
}

.filter-group:first-child > .filter-group-body > .filter:nth-child(2) > .filter-title-clickable > span:first-child::before {
    content: url("https://web.poecdn.com/gen/image/WzI1LDE0LHsiZiI6IjJESXRlbXMvQ3VycmVuY3kvQ29uZmxpY3RPcmJSYW5rMSIsInNjYWxlIjoxfV0/7e02c990fc/ConflictOrbRank1.png") !important;
}

.filter-group:first-child > .filter-group-body > .filter:nth-child(3) > .filter-title-clickable > span:first-child::before {
    content: url("https://web.poecdn.com/gen/image/WzI1LDE0LHsiZiI6IjJESXRlbXMvQ3VycmVuY3kvQW5jZXN0b3JzL05hdmFsaUNvaW4iLCJzY2FsZSI6MX1d/a3c7bc5c8f/NavaliCoin.png") !important;
}

.filter-group:first-child > .filter-group-body > .filter:nth-child(4) > .filter-title-clickable > span:first-child::before {
    content: url("https://web.poecdn.com/protected/image/promo/sanctum/items/UpliftingCenserRelicoftheTrove.png?key=6FzPSLWtvezi0d7kRGuXKA") !important;
}

.filter-group:first-child > .filter-group-body > .filter:nth-child(5) > .filter-title-clickable > span:first-child::before {
    content: url("https://web.poecdn.com/gen/image/WzI1LDE0LHsiZiI6IjJESXRlbXMvQ3VycmVuY3kvQnJlYWNoL0JyZWFjaFNoYXJkQ2hhb3MiLCJzY2FsZSI6MX1d/14332eaec8/BreachShardChaos.png") !important;
}

.filter-group:first-child > .filter-group-body > .filter:nth-child(6) > .filter-title-clickable > span:first-child::before {
    content: url("https://web.poecdn.com/gen/image/WzI4LDE0LHsiZiI6IjJESXRlbXMvTWFwcy9BdGxhc01hcHMvRnJhZ21lbnRQaG9lbml4Iiwic2NhbGUiOjF9XQ/3091d971ad/FragmentPhoenix.png") !important;
}

.filter-group:first-child > .filter-group-body > .filter:nth-child(14) > .filter-title-clickable > span:first-child::before {
    content: url("https://web.poecdn.com/gen/image/WzI1LDE0LHsiZiI6IjJESXRlbXMvQ3VycmVuY3kvU2NhcmFicy9HcmVhdGVyU2NhcmFiQnJlYWNoIiwic2NhbGUiOjF9XQ/b129897f73/GreaterScarabBreach.png") !important;
}

.filter-group:first-child > .filter-group-body > .filter:nth-child(7) > .filter-title-clickable > span:first-child::before {
    content: url("https://web.poecdn.com/gen/image/WzI1LDE0LHsiZiI6IjJESXRlbXMvQ3VycmVuY3kvTWVtb3J5TGluZS9OaWtvTWVtb3J5SXRlbSIsInciOjEsImgiOjEsInNjYWxlIjoxfV0/5c560ea8fd/NikoMemoryItem.png") !important;
}

.filter-group:first-child > .filter-group-body > .filter:nth-child(8) > .filter-title-clickable > span:first-child::before {
    content: url("https://web.poecdn.com/gen/image/WzI1LDE0LHsiZiI6IjJESXRlbXMvQ3VycmVuY3kvU2NvdXRpbmdSZXBvcnQiLCJ3IjoxLCJoIjoxLCJzY2FsZSI6MX1d/584635f3c8/ScoutingReport.png") !important;
}

.filter-group:first-child > .filter-group-body > .filter:nth-child(9) > .filter-title-clickable > span:first-child::before {
    content: url("https://web.poecdn.com/gen/image/WzI1LDE0LHsiZiI6IjJESXRlbXMvQ3VycmVuY3kvRXhwZWRpdGlvbi9HYW1ibGVyUmVmcmVzaEN1cnJlbmN5Iiwic2NhbGUiOjF9XQ/ff5640db4c/GamblerRefreshCurrency.png") !important;
}

.filter-group:first-child > .filter-group-body > .filter:nth-child(10) > .filter-title-clickable > span:first-child::before {
    content: url("https://web.poecdn.com/gen/image/WzI1LDE0LHsiZiI6IjJESXRlbXMvQ3VycmVuY3kvRGVsaXJpdW0vRGVsaXJpdW1PcmJTY2FyYWJzIiwic2NhbGUiOjF9XQ/ca1dcdc38b/DeliriumOrbScarabs.png") !important;
}

.filter-group:first-child > .filter-group-body > .filter:nth-child(11) > .filter-title-clickable > span:first-child::before {
    content: url("https://web.poecdn.com/gen/image/WzI1LDE0LHsiZiI6IjJESXRlbXMvQ3VycmVuY3kvQ2F0YWx5c3RzL0ltYnVlZENhdGFseXN0Iiwic2NhbGUiOjF9XQ/cce071aa45/ImbuedCatalyst.png") !important;
}

.filter-group:first-child > .filter-group-body > .filter:nth-child(12) > .filter-title-clickable > span:first-child::before {
    content: url("https://web.poecdn.com/gen/image/WzI1LDE0LHsiZiI6IjJESXRlbXMvQ3VycmVuY3kvT2lscy9PcGFsZXNjZW50T2lsIiwic2NhbGUiOjF9XQ/abd419a154/OpalescentOil.png") !important;
}

.filter-group:first-child > .filter-group-body > .filter:nth-child(13) > .filter-title-clickable > span:first-child::before {
    content: url("https://web.poecdn.com/gen/image/WzI1LDE0LHsiZiI6IjJESXRlbXMvQ3VycmVuY3kvSW5jdWJhdGlvbi9JbmN1YmF0aW9uQWJ5c3MiLCJzY2FsZSI6MX1d/f3c36d1eb4/IncubationAbyss.png") !important;
}

.filter-group:first-child > .filter-group-body > .filter:nth-child(15) > .filter-title-clickable > span:first-child::before {
    content: url("https://web.poecdn.com/image/Art/2DItems/Currency/Delve/Reroll2x2A.png?scale=1&w=1&h=1") !important;
}

.filter-group:first-child > .filter-group-body > .filter:nth-child(16) > .filter-title-clickable > span:first-child::before {
    content: url("https://web.poecdn.com/gen/image/WzI1LDE0LHsiZiI6IjJESXRlbXMvQ3VycmVuY3kvRGVsdmUvU2FuY3RpZmllZEZvc3NpbCIsInNjYWxlIjoxfV0/7240f907f2/SanctifiedFossil.png") !important;
}

.filter-group:first-child > .filter-group-body > .filter:nth-child(17) > .filter-title-clickable > span:first-child::before {
    content: url("https://web.poecdn.com/gen/image/WzI1LDE0LHsiZiI6IjJESXRlbXMvQ3VycmVuY3kvRXNzZW5jZS9Xb2U3Iiwic2NhbGUiOjF9XQ/6bb5af5409/Woe7.png") !important;
}

.filter-group:first-child > .filter-group-body > .filter:nth-child(18) > .filter-title-clickable > span:first-child::before {
    content: url("https://web.poecdn.com/image/Art/2DItems/Divination/InventoryIcon.png?scale=1&w=1&h=1") !important;
}

.filter-group:first-child > .filter-group-body > .filter:nth-child(19) > .filter-title-clickable > span:first-child::before {
    content: url("https://web.poecdn.com/image/Art/2DItems/Maps/AtlasMaps/Gorge3.png?scale=1&w=1&h=1") !important;
}

.filter-group:first-child > .filter-group-body > .filter:nth-child(20) > .filter-title-clickable > span:first-child::before {
    content: url("https://web.poecdn.com/gen/image/WzI4LDE0LHsiZiI6IjJESXRlbXNcL01hcHNcL0F0bGFzMk1hcHNcL05ld1wvTHVuYXJpc1RlbXBsZSIsInciOjEsImgiOjEsInNjYWxlIjp0cnVlLCJtbiI6MTAsIm10IjoxNCwibWIiOnRydWV9XQ/038c28d2e1/Item.png") !important;
}

.filter-group:first-child > .filter-group-body > .filter:nth-child(21) > .filter-title-clickable > span:first-child::before {
    content: url("https://web.poecdn.com/gen/image/WzI4LDE0LHsiZiI6IjJESXRlbXMvTWFwcy9BdGxhczJNYXBzL05ldy9GaWVsZHMiLCJ3IjoxLCJoIjoxLCJzY2FsZSI6MSwibW4iOjEyLCJtdCI6MTYsIm11YiI6dHJ1ZX1d/a7ab3884c4/Fields.png") !important;
}

.filter-group:first-child > .filter-group-body > .filter:nth-child(22) > .filter-title-clickable > span:first-child::before {
    content: url("https://web.poecdn.com/image/Art/2DItems/Maps/UndeadSiege.png?scale=1&w=1&h=1") !important;
}



/*---------------------------
	Catch new items
---------------------------*/

/* move all items that dont have coordinates specified */
:where(.filter-group:first-child > .filter-group-body > .filter > .filter-options > [data-id]:not(.text)) {
    top: calc(0 * var(--poe-custom-item-margin)) !important;
    left: calc(-1 * var(--poe-custom-item-distance)) !important;
}



/*---------------------------
	"Currency" section
---------------------------*/

/* setup currency container */

.filter-group:first-child > .filter-group-body > .filter:nth-child(1) > .filter-options {
    position: relative !important;
    height: calc(5 * var(--poe-custom-item-distance) + var(--poe-custom-item-margin)) !important;
    width: calc(14 * var(--poe-custom-item-distance)) !important;
    margin: auto !important;
}

.filter-group:first-child > .filter-group-body > .filter:nth-child(1) > .filter-options > [data-id] {
    position: absolute !important;
}

/* set Y-coordinate for each row */

[data-id=chaos], [data-id=fusing], [data-id=alch], [data-id=scour], [data-id=regal], [data-id=orb-of-binding], [data-id=vaal], [data-id=regret], [data-id=blessed], [data-id=enkindling-orb], [data-id=instilling-orb] {
    top: calc(0 * var(--poe-custom-item-distance)) !important;
}

[data-id=alt], [data-id=transmute], [data-id=aug], [data-id=chance], [data-id=chrome], [data-id=jewellers], [data-id=engineers], [data-id=whetstone], [data-id=scrap], [data-id=bauble], [data-id=gcp] {
    top: calc(1 * var(--poe-custom-item-distance)) !important;
}

[data-id=exalted], [data-id=annul], [data-id=ancient-orb], [data-id=infused-engineers-orb], [data-id=facetors], [data-id=veiled-chaos-orb], [data-id=orb-of-unmaking], [data-id=surveyors-compass], [data-id=awakened-sextant], [data-id=elevated-sextant], [data-id=harbingers-orb], [data-id=orb-of-horizons], [data-id=chisel] {
    top: calc(2 * var(--poe-custom-item-distance)) !important;
}

[data-id=divine], [data-id=fracturing-orb], /*[data-id=crusaders-exalted-orb], [data-id=redeemers-exalted-orb], [data-id=hunters-exalted-orb], [data-id=warlords-exalted-orb], [data-id=awakeners-orb], [data-id=mavens-orb],*/ [data-id=sacred-orb], [data-id=prime-regrading-lens], [data-id=secondary-regrading-lens], [data-id=tempering-orb], [data-id=tailoring-orb] {
    top: calc(3 * var(--poe-custom-item-distance)) !important;
}

[data-id=stacked-deck], [data-id=rogues-marker], [data-id=wisdom], [data-id=portal], [data-id=mirror], [data-id=eternal], /*[data-id=p],*/ [data-id=blessing-xoph], [data-id=blessing-tul], [data-id=blessing-esh], [data-id=blessing-uul-netol], [data-id=blessing-chayula] {
    top: calc(4 * var(--poe-custom-item-distance)) !important;
}

/* set X-coordinate for each column */

[data-id=chaos], [data-id=alt], [data-id=divine], [data-id=exalted], [data-id=stacked-deck], [data-id=mirror-shard], [data-id=crescent-splinter] {
    left: calc(0 * var(--poe-custom-item-distance)) !important;
}

[data-id=fusing], [data-id=chrome], [data-id=annul], [data-id=fracturing-orb], [data-id=rogues-marker], [data-id=fracturing-shard], [data-id=timeless-eternal-empire-splinter] {
    left: calc(1 * var(--poe-custom-item-distance)) !important;
}

[data-id=alch], [data-id=transmute], [data-id=ancient-orb], [data-id=sacred-orb], [data-id=wisdom], [data-id=exalted-shard], [data-id=timeless-karui-splinter] {
    left: calc(2 * var(--poe-custom-item-distance)) !important;
}

[data-id=scour], [data-id=chance], [data-id=infused-engineers-orb], [data-id=portal], [data-id=annulment-shard], [data-id=timeless-vaal-splinter] {
    left: calc(3 * var(--poe-custom-item-distance)) !important;
}

[data-id=regal], [data-id=aug], [data-id=facetors], [data-id=prime-regrading-lens], [data-id=ancient-shard], [data-id=timeless-templar-splinter] {
    left: calc(4 * var(--poe-custom-item-distance)) !important;
}

[data-id=orb-of-binding], [data-id=jewellers], [data-id=veiled-chaos-orb], [data-id=secondary-regrading-lens], [data-id=mirror], [data-id=harbingers-shard], [data-id=timeless-maraketh-splinter] {
    left: calc(5 * var(--poe-custom-item-distance)) !important;
}

[data-id=vaal], [data-id=tempering-orb], [data-id=eternal] {
    left: calc(6 * var(--poe-custom-item-distance)) !important;
}

[data-id=regret], [data-id=orb-of-unmaking], [data-id=tailoring-orb] {
    left: calc(7 * var(--poe-custom-item-distance)) !important;
}

[data-id=blessed], [data-id=surveyors-compass], [data-id=chaos-shard], [data-id=blessing-xoph], [data-id=splinter-xoph] {
    left: calc(8 * var(--poe-custom-item-distance)) !important;
}

[data-id=engineers], [data-id=awakened-sextant], [data-id=regal-shard], [data-id=blessing-tul], [data-id=splinter-tul] {
    left: calc(9 * var(--poe-custom-item-distance)) !important;
}

[data-id=whetstone], [data-id=elevated-sextant], [data-id=binding-shard], [data-id=blessing-esh], [data-id=splinter-esh] {
    left: calc(10 * var(--poe-custom-item-distance)) !important;
}

[data-id=scrap], [data-id=harbingers-orb], [data-id=horizon-shard], [data-id=blessing-uul-netol], [data-id=splinter-uul] {
    left: calc(11 * var(--poe-custom-item-distance)) !important;
}

[data-id=enkindling-orb], [data-id=bauble], [data-id=orb-of-horizons], [data-id=engineers-shard], /*[data-id=p],*/ [data-id=blessing-chayula], [data-id=splinter-chayula] {
    left: calc(12 * var(--poe-custom-item-distance)) !important;
}

[data-id=instilling-orb], [data-id=gcp], [data-id=chisel], [data-id=ritual-splinter] {
    left: calc(13 * var(--poe-custom-item-distance)) !important;
}

/**/
[data-id=simulacrum-splinter] {
    left: calc(6.5 * var(--poe-custom-item-distance)) !important;
}



/*---------------------------
	"Shards & Splinters" section
---------------------------*/

/* setup shards/splinters container */

.filter-group:first-child > .filter-group-body > .filter:nth-child(5) > .filter-options {
    position: relative !important;
    height: calc(2 * var(--poe-custom-item-distance) + var(--poe-custom-item-margin)) !important;
    width: calc(14 * var(--poe-custom-item-distance)) !important;
    margin: auto !important;
}

.filter-group:first-child > .filter-group-body > .filter:nth-child(5) > .filter-options > [data-id] {
    position: absolute !important;
}

/* set Y-coordinate for each row */

[data-id=exalted-shard], [data-id=mirror-shard], [data-id=fracturing-shard], [data-id=chaos-shard], [data-id=regal-shard], [data-id=binding-shard], [data-id=engineers-shard], [data-id=horizon-shard], [data-id=annulment-shard], [data-id=ancient-shard], [data-id=harbingers-shard] {
    top: calc(0 * var(--poe-custom-item-distance)) !important;
}

[data-id=ritual-splinter], [data-id=timeless-eternal-empire-splinter], [data-id=timeless-karui-splinter], [data-id=timeless-vaal-splinter], [data-id=timeless-templar-splinter], [data-id=timeless-maraketh-splinter], [data-id=simulacrum-splinter], [data-id=splinter-xoph], [data-id=splinter-tul], [data-id=splinter-esh], [data-id=splinter-uul], [data-id=splinter-chayula], [data-id=crescent-splinter] {
    top: calc(1 * var(--poe-custom-item-distance)) !important;
}

/* set X-coordinate for each column */
/* (they are set in the currency section) */



/*---------------------------
	"Fragments & Sets" section
---------------------------*/

/* setup fragments container */

.filter-group:first-child > .filter-group-body > .filter:nth-child(6) > .filter-options {
    position: relative !important;
    height: calc(9.5 * var(--poe-custom-item-distance) - var(--poe-custom-fragment-set-indent) + var(--poe-custom-item-margin)) !important;
    width: calc(12 * var(--poe-custom-item-distance)) !important;
    margin: auto !important;
}

.filter-group:first-child > .filter-group-body > .filter:nth-child(6) > .filter-options > [data-id] {
    position: absolute !important;
}

/* set Y-coordinate for each row */

[data-id=dusk], [data-id=mid], [data-id=grie], [data-id=rage], [data-id=veritanias-crest], [data-id=al-hezmins-crest], [data-id=hydra], [data-id=phoenix], [data-id=fragment-of-purification], [data-id=fragment-of-enslavement], [data-id=fragment-of-knowledge], [data-id=fragment-of-terror] {
    top: calc(0 * var(--poe-custom-item-distance)) !important;
}

[data-id=noon], [data-id=dawn], [data-id=ign], [data-id=hope], [data-id=droxs-crest], [data-id=barans-crest], [data-id=chimer], [data-id=minot], [data-id=fragment-of-constriction], [data-id=fragment-of-eradication], [data-id=fragment-of-shape], [data-id=fragment-of-emptiness] {
    top: calc(1 * var(--poe-custom-item-distance)) !important;
}

[data-id=sacrifice-set], [data-id=mortal-set], [data-id=crest-of-the-elderslayers], [data-id=shaper-set], [data-id=key-to-decay], [data-id=maddening-object] {
    top: calc(2 * var(--poe-custom-item-distance)) !important;
}

[data-id=timeless-eternal-emblem], [data-id=timeless-karui-emblem], [data-id=timeless-maraketh-emblem], [data-id=timeless-templar-emblem], [data-id=timeless-vaal-emblem], [data-id=simulacrum], [data-id=xophs-breachstone], [data-id=tuls-breachstone], [data-id=eshs-breachstone], [data-id=uul-breachstone], [data-id=chayulas-breachstone] {
    top: calc(3 * var(--poe-custom-item-distance) - var(--poe-custom-fragment-set-indent)) !important;
}

[data-id=uber-timeless-eternal-emblem], [data-id=uber-timeless-karui-emblem], [data-id=uber-timeless-vaal-emblem], [data-id=uber-timeless-templar-emblem], [data-id=uber-timeless-maraketh-emblem], [data-id=the-mavens-writ], [data-id=xophs-flawless-breachstone], [data-id=tuls-flawless-breachstone], [data-id=eshs-flawless-breachstone], [data-id=uul-flawless-breachstone], [data-id=chayulas-flawless-breachstone], [data-id=xophs-charged-breachstone], [data-id=tuls-charged-breachstone], [data-id=eshs-charged-breachstone], [data-id=uul-charged-breachstone], [data-id=chayulas-charged-breachstone] {
    top: calc(4 * var(--poe-custom-item-distance) - var(--poe-custom-fragment-set-indent)) !important;
}

[data-id=divine-vessel], [data-id=offer], [data-id=offer-tribute], [data-id=offer-gift], [data-id=offer-dedication], [data-id=sacred-blossom], [data-id=xophs-enriched-breachstone], [data-id=tuls-enriched-breachstone], [data-id=eshs-enriched-breachstone], [data-id=uul-enriched-breachstone], [data-id=chayulas-enriched-breachstone] {
    top: calc(5 * var(--poe-custom-item-distance) - var(--poe-custom-fragment-set-indent)) !important;
}

[data-id=the-atlas], [data-id=writhing-invitation], [data-id=screaming-invitation], [data-id=polaric-invitation], [data-id=incandescent-invitation], [data-id=xophs-pure-breachstone], [data-id=tuls-pure-breachstone], [data-id=eshs-pure-breachstone], [data-id=uul-pure-breachstone], [data-id=chayulas-pure-breachstone] {
    top: calc(6 * var(--poe-custom-item-distance) - var(--poe-custom-fragment-set-indent)) !important;
}

[data-id=ritual-vessel], [data-id=victorious-fate], [data-id=deadly-fate], [data-id=will-of-chaos], [data-id=ignominious-fate], [data-id=the-formed], [data-id=the-twisted], [data-id=the-forgotten], [data-id=the-hidden], [data-id=the-elderslayers], [data-id=the-feared] {
    top: calc(7 * var(--poe-custom-item-distance) - var(--poe-custom-fragment-set-indent)) !important;
}

[data-id=voidborn-reliquary-key], [data-id=forgotten-reliquary-key], [data-id=visceral-reliquary-key], [data-id=shiny-reliquary-key], [data-id=archive-reliquary-key], [data-id=oubliette-reliquary-key], [data-id=cosmic-reliquary-key], [data-id=decaying-reliquary-key], [data-id=vaal-reliquary-key], [data-id=timeworn-reliquary-key], [data-id=ancient-reliquary-key] {
    top: calc(8.5 * var(--poe-custom-item-distance) - var(--poe-custom-fragment-set-indent)) !important;
}

/* set X-coordinate for each column */

[data-id=divine-vessel], [data-id=ritual-vessel], [data-id=dusk], [data-id=noon], [data-id=timeless-eternal-emblem], [data-id=uber-timeless-eternal-emblem], [data-id=forgotten-reliquary-key] {
    left: calc(0 * var(--poe-custom-item-distance)) !important;
}
[data-id=offer], [data-id=mid], [data-id=dawn], [data-id=timeless-karui-emblem], [data-id=uber-timeless-karui-emblem], [data-id=victorious-fate], [data-id=visceral-reliquary-key] {
    left: calc(1 * var(--poe-custom-item-distance)) !important;
}
[data-id=veritanias-crest], [data-id=droxs-crest], [data-id=timeless-vaal-emblem], [data-id=uber-timeless-vaal-emblem], [data-id=offer-dedication], [data-id=deadly-fate], [data-id=shiny-reliquary-key] {
    left: calc(2 * var(--poe-custom-item-distance)) !important;
}
[data-id=al-hezmins-crest], [data-id=barans-crest], [data-id=timeless-templar-emblem], [data-id=uber-timeless-templar-emblem], [data-id=offer-gift], [data-id=will-of-chaos], [data-id=archive-reliquary-key] {
    left: calc(3 * var(--poe-custom-item-distance)) !important;
}
[data-id=grie], [data-id=ign], [data-id=timeless-maraketh-emblem], [data-id=uber-timeless-maraketh-emblem], [data-id=offer-tribute], [data-id=ignominious-fate], [data-id=oubliette-reliquary-key] {
    left: calc(4 * var(--poe-custom-item-distance)) !important;
}
[data-id=rage], [data-id=hope], [data-id=cosmic-reliquary-key] {
    left: calc(5 * var(--poe-custom-item-distance)) !important;
}
[data-id=fragment-of-purification], [data-id=fragment-of-constriction], [data-id=decaying-reliquary-key] {
    left: calc(6 * var(--poe-custom-item-distance)) !important;
}
[data-id=fragment-of-enslavement], [data-id=fragment-of-eradication], [data-id=xophs-breachstone], [data-id=xophs-charged-breachstone], [data-id=xophs-enriched-breachstone], [data-id=xophs-pure-breachstone], [data-id=xophs-flawless-breachstone], [data-id=the-atlas], [data-id=the-formed], [data-id=voidborn-reliquary-key] {
    left: calc(7 * var(--poe-custom-item-distance)) !important;
}
[data-id=hydra], [data-id=chimer], [data-id=tuls-breachstone], [data-id=tuls-charged-breachstone], [data-id=tuls-enriched-breachstone], [data-id=tuls-pure-breachstone], [data-id=tuls-flawless-breachstone], [data-id=writhing-invitation], [data-id=the-twisted] {
    left: calc(8 * var(--poe-custom-item-distance)) !important;
}
[data-id=phoenix], [data-id=minot], [data-id=eshs-breachstone], [data-id=eshs-charged-breachstone], [data-id=eshs-enriched-breachstone], [data-id=eshs-pure-breachstone], [data-id=eshs-flawless-breachstone], [data-id=screaming-invitation], [data-id=the-forgotten], [data-id=ancient-reliquary-key] {
    left: calc(9 * var(--poe-custom-item-distance)) !important;
}
[data-id=fragment-of-knowledge], [data-id=fragment-of-shape], [data-id=uul-breachstone], [data-id=uul-charged-breachstone], [data-id=uul-enriched-breachstone], [data-id=uul-pure-breachstone], [data-id=uul-flawless-breachstone], [data-id=polaric-invitation], [data-id=the-hidden], [data-id=timeworn-reliquary-key] {
    left: calc(10 * var(--poe-custom-item-distance)) !important;
}
[data-id=fragment-of-terror], [data-id=fragment-of-emptiness], [data-id=chayulas-breachstone], [data-id=chayulas-charged-breachstone], [data-id=chayulas-enriched-breachstone], [data-id=chayulas-pure-breachstone], [data-id=chayulas-flawless-breachstone], [data-id=incandescent-invitation], [data-id=the-elderslayers], [data-id=vaal-reliquary-key] {
    left: calc(11 * var(--poe-custom-item-distance)) !important;
}

/**/

[data-id=sacrifice-set] {
    left: calc(0.5 * var(--poe-custom-item-distance)) !important;
}
/*[data-id=] {
    left: calc(1.5 * var(--poe-custom-item-distance)) !important;
}*/
[data-id=crest-of-the-elderslayers] {
    left: calc(2.5 * var(--poe-custom-item-distance)) !important;
}
/*[data-id=] {
    left: calc(3.5 * var(--poe-custom-item-distance)) !important;
}*/
[data-id=mortal-set] {
    left: calc(4.5 * var(--poe-custom-item-distance)) !important;
}
[data-id=simulacrum], [data-id=sacred-blossom], [data-id=the-mavens-writ], [data-id=the-feared] {
    left: calc(5.5 * var(--poe-custom-item-distance)) !important;
}
[data-id=key-to-decay] {
    left: calc(6.5 * var(--poe-custom-item-distance)) !important;
}
/* {
    left: calc(7.5 * var(--poe-custom-item-distance)) !important;
}*/
[data-id=shaper-set] {
    left: calc(8.5 * var(--poe-custom-item-distance)) !important;
}
/* {
    left: calc(9.5 * var(--poe-custom-item-distance)) !important;
}*/
[data-id=maddening-object] {
    left: calc(10.5 * var(--poe-custom-item-distance)) !important;
}



/*---------------------------
	"Scarabs" section
---------------------------*/

/* setup scarabs container */

.filter-group:first-child > .filter-group-body > .filter:nth-child(14) > .filter-options {
    position: relative !important;
    height: calc(9.5 * var(--poe-custom-item-distance) - var(--poe-custom-lures-indent) + var(--poe-custom-item-margin)) !important;
    width: calc(8.5 * var(--poe-custom-item-distance)) !important;
    margin: auto !important;
}

.filter-group:first-child > .filter-group-body > .filter:nth-child(14) > .filter-options > [data-id] {
    position: absolute !important;
}

/* set Y-coordinate for each row */

[data-id$=-bestiary-scarab], [data-id$=-shaper-scarab] {
    top: calc(0 * var(--poe-custom-item-distance)) !important;
}
[data-id$=-reliquary-scarab], [data-id$=-expedition-scarab] {
    top: calc(1 * var(--poe-custom-item-distance)) !important;
}
[data-id$=-torment-scarab], [data-id$=-cartography-scarab] {
    top: calc(2 * var(--poe-custom-item-distance)) !important;
}
[data-id$=-sulphite-scarab], [data-id$=-harbinger-scarab] {
    top: calc(3 * var(--poe-custom-item-distance)) !important;
}
[data-id$=-metamorph-scarab], [data-id$=-elder-scarab] {
    top: calc(4 * var(--poe-custom-item-distance)) !important;
}
[data-id$=-legion-scarab], [data-id$=-divination-scarab] {
    top: calc(5 * var(--poe-custom-item-distance)) !important;
}
[data-id$=-ambush-scarab], [data-id$=-breach-scarab] {
    top: calc(6 * var(--poe-custom-item-distance)) !important;
}
[data-id$=-blight-scarab], [data-id$=-abyss-scarab] {
    top: calc(7 * var(--poe-custom-item-distance)) !important;
}

/**/

[data-id$=farric-lure], [data-id=saqawine-lure], [data-id=fenumal-lure], [data-id=craicic-lure] {
    top: calc(8.5 * var(--poe-custom-item-distance)) !important;
}

/* set X-coordinate for each column */

[data-id=rusted-bestiary-scarab], [data-id=rusted-reliquary-scarab], [data-id=rusted-torment-scarab], [data-id=rusted-sulphite-scarab], [data-id=rusted-metamorph-scarab], [data-id=rusted-legion-scarab], [data-id=rusted-ambush-scarab], [data-id=rusted-blight-scarab] {
    left: calc(0 * var(--poe-custom-item-distance)) !important;
}
[data-id=polished-bestiary-scarab], [data-id=polished-reliquary-scarab], [data-id=polished-torment-scarab], [data-id=polished-sulphite-scarab], [data-id=polished-metamorph-scarab], [data-id=polished-legion-scarab], [data-id=polished-ambush-scarab], [data-id=polished-blight-scarab] {
    left: calc(1 * var(--poe-custom-item-distance)) !important;
}
[data-id=gilded-bestiary-scarab], [data-id=gilded-reliquary-scarab], [data-id=gilded-torment-scarab], [data-id=gilded-sulphite-scarab], [data-id=gilded-metamorph-scarab], [data-id=gilded-legion-scarab], [data-id=gilded-ambush-scarab], [data-id=gilded-blight-scarab] {
    left: calc(2 * var(--poe-custom-item-distance)) !important;
}
[data-id=jewelled-bestiary-scarab], [data-id=jewelled-reliquary-scarab], [data-id=jewelled-torment-scarab], [data-id=jewelled-sulphite-scarab], [data-id=jewelled-metamorph-scarab], [data-id=jewelled-legion-scarab], [data-id=jewelled-ambush-scarab], [data-id=winged-blight-scarab] {
    left: calc(3 * var(--poe-custom-item-distance)) !important;
}

/**/

[data-id=rusted-shaper-scarab], [data-id=rusted-expedition-scarab], [data-id=rusted-cartography-scarab], [data-id=rusted-harbinger-scarab], [data-id=rusted-elder-scarab], [data-id=rusted-divination-scarab], [data-id=rusted-breach-scarab], [data-id=rusted-abyss-scarab] {
    left: calc(4.5 * var(--poe-custom-item-distance)) !important;
}
[data-id=polished-shaper-scarab], [data-id=polished-expedition-scarab], [data-id=polished-cartography-scarab], [data-id=polished-harbinger-scarab], [data-id=polished-elder-scarab], [data-id=polished-divination-scarab], [data-id=polished-breach-scarab], [data-id=polished-abyss-scarab] {
    left: calc(5.5 * var(--poe-custom-item-distance)) !important;
}
[data-id=gilded-shaper-scarab], [data-id=gilded-expedition-scarab], [data-id=gilded-cartography-scarab], [data-id=gilded-harbinger-scarab], [data-id=gilded-elder-scarab], [data-id=gilded-divination-scarab], [data-id=gilded-breach-scarab], [data-id=gilded-abyss-scarab] {
    left: calc(6.5 * var(--poe-custom-item-distance)) !important;
}
[data-id=jewelled-shaper-scarab], [data-id=winged-expedition-scarab], [data-id=jewelled-cartography-scarab], [data-id=jewelled-harbinger-scarab], [data-id=jewelled-elder-scarab], [data-id=jewelled-divination-scarab], [data-id=jewelled-breach-scarab], [data-id=winged-abyss-scarab] {
    left: calc(7.5 * var(--poe-custom-item-distance)) !important;
}

[data-id=farric-lure]   { left: calc(1.5 * var(--poe-custom-item-distance)) !important; }
[data-id=saqawine-lure] { left: calc(3   * var(--poe-custom-item-distance)) !important; }
[data-id=fenumal-lure]  { left: calc(4.5 * var(--poe-custom-item-distance)) !important; }
[data-id=craicic-lure]  { left: calc(6   * var(--poe-custom-item-distance)) !important; }



/*------------------------------
	"Exotic Currency" section
------------------------------*/

/* setup resonators container 
.filter-group:first-child > .filter-group-body > .filter:nth-child(2) > .filter-options {
    display: flex !important;
    flex-wrap: wrap !important;
    flex-direction: row !important;
    justify-content: center !important;
    align-items: center !important;
    align-content: flex-start !important;
}

[data-id=eldritch-chaos-orb]        { order: 10 !important; }
[data-id=eldritch-orb-of-annulment] { order: 20 !important; }
[data-id=eldritch-exalted-orb]      { order: 30 !important; }
[data-id=orb-of-conflict]           { order: 40 !important; }

[data-id=exceptional-eldritch-ember], [data-id=exceptional-eldritch-ichor] {
    margin-right: 16px !important;
}*/



/*------------------------------
	"Resonators" section
------------------------------*/

/* setup resonators container */
.filter-group:first-child > .filter-group-body > .filter:nth-child(15) > .filter-options {
    display: flex !important;
    flex-wrap: wrap !important;
    flex-direction: row !important;
    justify-content: center !important;
    align-items: center !important;
    align-content: flex-start !important;
}

/* set display order for each resonator (by number of sockets) */
[data-id=primitive-alchemical-resonator] { order: 10 !important; }
[data-id=potent-alchemical-resonator]    { order: 30 !important; }
[data-id=powerful-alchemical-resonator]  { order: 50 !important; }
[data-id=prime-alchemical-resonator]     { order: 70 !important; }
[data-id=primitive-chaotic-resonator]    { order: 20 !important; }
[data-id=potent-chaotic-resonator]       { order: 40 !important; }
[data-id=powerful-chaotic-resonator]     { order: 60 !important; }
[data-id=prime-chaotic-resonator]        { order: 80 !important; }

/* add spacing between different groups with different number of sockets */
[data-id=primitive-chaotic-resonator],
[data-id=potent-chaotic-resonator],
[data-id=powerful-chaotic-resonator] {
    /*margin-right: calc(0.5 * var(--poe-custom-item-distance)) !important;*/
    margin-right: 8px !important;
}

/* double the size of the large resonators */

/* 2x1 items */
[data-id=potent-alchemical-resonator],
[data-id=potent-chaotic-resonator] {
    height:     var(--poe-custom-item-size-double) !important;
}

/* 2x1 images */
[data-id=potent-alchemical-resonator] > img,
[data-id=potent-chaotic-resonator] > img {
    height:     var(--poe-custom-image-size-double) !important;
    max-height: var(--poe-custom-image-size-double) !important;
}

/* 2x2 items */
[data-id=powerful-alchemical-resonator],
[data-id=powerful-chaotic-resonator],
[data-id=prime-alchemical-resonator],
[data-id=prime-chaotic-resonator] {
    height:     var(--poe-custom-item-size-double) !important;
    width:      var(--poe-custom-item-size-double) !important;
}

/* 2x2 images */
[data-id=powerful-alchemical-resonator] > img,
[data-id=powerful-chaotic-resonator] > img,
[data-id=prime-alchemical-resonator] > img,
[data-id=prime-chaotic-resonator] > img {
    height:     var(--poe-custom-image-size-double) !important;
    width:      var(--poe-custom-image-size-double) !important;
    max-height: var(--poe-custom-image-size-double) !important;
    max-width:  var(--poe-custom-image-size-double) !important;
}



/*------------------------------
	"Fossils" section
------------------------------*/

/* setup fossils container */

.filter-group:first-child > .filter-group-body > .filter:nth-child(16) > .filter-options {
    position: relative !important;
    height: calc(4 * var(--poe-custom-item-distance) + var(--poe-custom-item-margin)) !important;
    width: calc(9 * var(--poe-custom-item-distance)) !important;
    margin: auto !important;
}

.filter-group:first-child > .filter-group-body > .filter:nth-child(16) > .filter-options > [data-id] {
    position: absolute !important;
}

/* set Y-coordinate for each row */

[data-id=jagged-fossil], [data-id=dense-fossil], [data-id=frigid-fossil], [data-id=aberrant-fossil], [data-id=scorched-fossil], [data-id=metallic-fossil], [data-id=pristine-fossil] {
    top: calc(0 * var(--poe-custom-item-distance)) !important;
}

[data-id=bound-fossil], [data-id=corroded-fossil], [data-id=perfect-fossil], [data-id=prismatic-fossil], [data-id=deft-fossil], [data-id=aetheric-fossil], [data-id=lucent-fossil], [data-id=serrated-fossil], [data-id=shuddering-fossil] {
    top: calc(1 * var(--poe-custom-item-distance)) !important;
}

[data-id=tangled-fossil], [data-id=bloodstained-fossil], [data-id=gilded-fossil], [data-id=fundamental-fossil], [data-id=sanctified-fossil], [data-id=hollow-fossil], [data-id=fractured-fossil] {
    top: calc(2 * var(--poe-custom-item-distance)) !important;
}

[data-id=glyphic-fossil], [data-id=faceted-fossil] {
    top: calc(3 * var(--poe-custom-item-distance)) !important;
}

/* set X-coordinate for each column */

[data-id=bound-fossil] {
    left: calc(0 * var(--poe-custom-item-distance)) !important;
}

[data-id=jagged-fossil], [data-id=corroded-fossil], [data-id=glyphic-fossil] {
    left: calc(1 * var(--poe-custom-item-distance)) !important;
}

[data-id=dense-fossil], [data-id=perfect-fossil] {
    left: calc(2 * var(--poe-custom-item-distance)) !important;
}

[data-id=frigid-fossil], [data-id=prismatic-fossil], [data-id=gilded-fossil] {
    left: calc(3 * var(--poe-custom-item-distance)) !important;
}

[data-id=aberrant-fossil], [data-id=deft-fossil], [data-id=fundamental-fossil] {
    left: calc(4 * var(--poe-custom-item-distance)) !important;
}

[data-id=scorched-fossil], [data-id=aetheric-fossil], [data-id=sanctified-fossil] {
    left: calc(5 * var(--poe-custom-item-distance)) !important;
}

[data-id=metallic-fossil], [data-id=lucent-fossil] {
    left: calc(6 * var(--poe-custom-item-distance)) !important;
}

[data-id=pristine-fossil], [data-id=serrated-fossil], [data-id=faceted-fossil] {
    left: calc(7 * var(--poe-custom-item-distance)) !important;
}

[data-id=shuddering-fossil] {
    left: calc(8 * var(--poe-custom-item-distance)) !important;
}

/**/

[data-id=tangled-fossil] {
    left: calc(0.5 * var(--poe-custom-item-distance)) !important;
}

[data-id=bloodstained-fossil] {
    left: calc(1.5 * var(--poe-custom-item-distance)) !important;
}

[data-id=hollow-fossil] {
    left: calc(6.5 * var(--poe-custom-item-distance)) !important;
}

[data-id=fractured-fossil] {
    left: calc(7.5 * var(--poe-custom-item-distance)) !important;
}



/*---------------------------
	"Essences" section
---------------------------*/

/* setup essences container */

.filter-group:first-child > .filter-group-body > .filter:nth-child(17) > .filter-options {
    position: relative !important;
    height: calc(12 * var(--poe-custom-item-distance) + var(--poe-custom-item-margin)) !important;
    width: calc(11.5 * var(--poe-custom-item-distance)) !important;
    margin: auto !important;
}

.filter-group:first-child > .filter-group-body > .filter:nth-child(17) > .filter-options > [data-id] {
    position: absolute !important;
}

/* set Y-coordinate for each row */

[data-id$=-essence-of-greed], [data-id$=-essence-of-loathing] {
    top: calc(0 * var(--poe-custom-item-distance)) !important;
}

[data-id$=-essence-of-contempt], [data-id$=-essence-of-zeal] {
    top: calc(1 * var(--poe-custom-item-distance)) !important;
}

[data-id$=-essence-of-hatred], [data-id$=-essence-of-anguish] {
    top: calc(2 * var(--poe-custom-item-distance)) !important;
}

[data-id$=-essence-of-woe], [data-id$=-essence-of-spite] {
    top: calc(3 * var(--poe-custom-item-distance)) !important;
}

[data-id$=-essence-of-fear], [data-id$=-essence-of-scorn] {
    top: calc(4 * var(--poe-custom-item-distance)) !important;
}

[data-id$=-essence-of-anger], [data-id$=-essence-of-envy] {
    top: calc(5 * var(--poe-custom-item-distance)) !important;
}

[data-id$=-essence-of-torment], [data-id$=-essence-of-misery] {
    top: calc(6 * var(--poe-custom-item-distance)) !important;
}

[data-id$=-essence-of-sorrow], [data-id$=-essence-of-dread] {
    top: calc(7 * var(--poe-custom-item-distance)) !important;
}

[data-id$=-essence-of-rage], [data-id=essence-of-insanity], [data-id=remnant-of-corruption] {
    top: calc(8 * var(--poe-custom-item-distance)) !important;
}

[data-id$=-essence-of-suffering], [data-id=essence-of-horror] {
    top: calc(9 * var(--poe-custom-item-distance)) !important;
}

[data-id$=-essence-of-wrath], [data-id=essence-of-delirium] {
    top: calc(10 * var(--poe-custom-item-distance)) !important;
}

[data-id$=-essence-of-doubt], [data-id=essence-of-hysteria] {
    top: calc(11 * var(--poe-custom-item-distance)) !important;
}

/* set X-coordinate for each column */

[data-id^=deafening-essence-of-] {
    left: calc(0 * var(--poe-custom-item-distance)) !important;
}

[data-id^=shrieking-essence-of-] {
    left: calc(1 * var(--poe-custom-item-distance)) !important;
}

[data-id^=screaming-essence-of-] {
    left: calc(2 * var(--poe-custom-item-distance)) !important;
}

[data-id^=wailing-essence-of-] {
    left: calc(3 * var(--poe-custom-item-distance)) !important;
}

[data-id^=weeping-essence-of-] {
    left: calc(4 * var(--poe-custom-item-distance)) !important;
}

[data-id^=muttering-essence-of-] {
    left: calc(5 * var(--poe-custom-item-distance)) !important;
}

[data-id^=whispering-essence-of-] {
    left: calc(6 * var(--poe-custom-item-distance)) !important;
}

/**/

[data-id=wailing-essence-of-loathing], [data-id=wailing-essence-of-zeal], [data-id=wailing-essence-of-anguish], [data-id=wailing-essence-of-spite] {
    left: calc(7.5 * var(--poe-custom-item-distance)) !important;
}

[data-id=screaming-essence-of-loathing], [data-id=screaming-essence-of-zeal], [data-id=screaming-essence-of-anguish], [data-id=screaming-essence-of-spite], [data-id=screaming-essence-of-scorn], [data-id=screaming-essence-of-envy], [data-id=screaming-essence-of-misery], [data-id=screaming-essence-of-dread] {
    left: calc(8.5 * var(--poe-custom-item-distance)) !important;
}

[data-id=shrieking-essence-of-loathing], [data-id=shrieking-essence-of-zeal], [data-id=shrieking-essence-of-anguish], [data-id=shrieking-essence-of-spite], [data-id=shrieking-essence-of-scorn], [data-id=shrieking-essence-of-envy], [data-id=shrieking-essence-of-misery], [data-id=shrieking-essence-of-dread], [data-id=remnant-of-corruption] {
    left: calc(9.5 * var(--poe-custom-item-distance)) !important;
}

[data-id=deafening-essence-of-loathing], [data-id=deafening-essence-of-zeal], [data-id=deafening-essence-of-anguish], [data-id=deafening-essence-of-spite], [data-id=deafening-essence-of-scorn], [data-id=deafening-essence-of-envy], [data-id=deafening-essence-of-misery], [data-id=deafening-essence-of-dread], [data-id=essence-of-insanity], [data-id=essence-of-horror], [data-id=essence-of-delirium], [data-id=essence-of-hysteria] {
    left: calc(10.5 * var(--poe-custom-item-distance)) !important;
}



/*------------------------------
	"Maps" section
------------------------------*/

/* setup maps container */
.filter-group:first-child > .filter-group-body > .filter:nth-child(19) > .filter-options {
    display: flex !important;
    flex-wrap: wrap !important;
    flex-direction: row !important;
    justify-content: center !important;
}

/* fix Tier divider width */
.filter-group:first-child > .filter-group-body > .filter:nth-child(19) > .filter-options > .split {
    width: 100% !important;
}

/* hide non-functional duplicates */
:is(
    [data-id=forge-of-the-phoenix-map],
    [data-id=lair-of-the-hydra-map],
    [data-id=maze-of-the-minotaur-map],
    [data-id=pit-of-the-chimera-map]
) {
    display: none !important;
}



/* temp fix (icons are large without this) */

/* setup */
.text[data-id] {
    --text-height: 15px !important;
    --text-inner-margin: 3px !important;
    --image-indent: calc(var(--image-size) + var(--text-inner-margin)) !important;
}

/* setup text item */
:is(
    [data-id=forge-of-the-phoenix-map-tier-16],
    [data-id=lair-of-the-hydra-map-tier-16],
    [data-id=maze-of-the-minotaur-map-tier-16],
    [data-id=pit-of-the-chimera-map-tier-16],
    [data-id=vaal-temple-map-tier-16]
) {
    position: relative !important;
}

/* setup span ::before */
:is(
    [data-id=forge-of-the-phoenix-map-tier-16],
    [data-id=lair-of-the-hydra-map-tier-16],
    [data-id=maze-of-the-minotaur-map-tier-16],
    [data-id=pit-of-the-chimera-map-tier-16],
    [data-id=vaal-temple-map-tier-16]
)::before {
    position: absolute !important;
    transform: scale(calc( var(--image-size-scale-to) / var(--image-original-size-scuffed-scale-from) )) !important;
    transform-origin: 0% 0% !important;
    left: calc(var(--text-inner-margin) / 2) !important;
    top: 0px !important;
}

/* add indent for icon */
:is(
    [data-id=forge-of-the-phoenix-map-tier-16],
    [data-id=lair-of-the-hydra-map-tier-16],
    [data-id=maze-of-the-minotaur-map-tier-16],
    [data-id=pit-of-the-chimera-map-tier-16],
    [data-id=vaal-temple-map-tier-16]
) > span {
    margin-left: var(--image-indent) !important;
}
:is(
    [data-id=forge-of-the-phoenix-map-tier-16],
    [data-id=lair-of-the-hydra-map-tier-16],
    [data-id=maze-of-the-minotaur-map-tier-16],
    [data-id=pit-of-the-chimera-map-tier-16],
    [data-id=vaal-temple-map-tier-16]
)::after {
    margin-left: var(--image-indent) !important;
}

[data-id=forge-of-the-phoenix-map-tier-16] { order: 13 !important; }
[data-id=forge-of-the-phoenix-map-tier-16]::before { content: url("https://web.poecdn.com/gen/image/WzI4LDE0LHsiZiI6IjJESXRlbXMvTWFwcy9BdGxhczJNYXBzL05ldy9QaG9lbml4IiwidyI6MSwiaCI6MSwic2NhbGUiOjEsIm1uIjoxMiwibXQiOjAsIm1pIjoxfV0/b6e03170bd/Phoenix.png") !important; }

[data-id=lair-of-the-hydra-map-tier-16] { order: 11 !important; }
[data-id=lair-of-the-hydra-map-tier-16]::before { content: url("https://web.poecdn.com/gen/image/WzI4LDE0LHsiZiI6IjJESXRlbXMvTWFwcy9BdGxhczJNYXBzL05ldy9IeWRyYSIsInciOjEsImgiOjEsInNjYWxlIjoxLCJtbiI6MTIsIm10IjowLCJtaSI6MX1d/7ce44c86b1/Hydra.png") !important; }

[data-id=maze-of-the-minotaur-map-tier-16] { order: 12 !important; }
[data-id=maze-of-the-minotaur-map-tier-16]::before { content: url("https://web.poecdn.com/gen/image/WzI4LDE0LHsiZiI6IjJESXRlbXMvTWFwcy9BdGxhczJNYXBzL05ldy9NaW5vdGF1ciIsInciOjEsImgiOjEsInNjYWxlIjoxLCJtbiI6MTIsIm10IjowLCJtaSI6MX1d/7c6b0ef649/Minotaur.png") !important; }

[data-id=pit-of-the-chimera-map-tier-16] { order: 14 !important; }
[data-id=pit-of-the-chimera-map-tier-16]::before { content: url("https://web.poecdn.com/gen/image/WzI4LDE0LHsiZiI6IjJESXRlbXMvTWFwcy9BdGxhczJNYXBzL05ldy9DaGltZXJhIiwidyI6MSwiaCI6MSwic2NhbGUiOjEsIm1uIjoxMiwibXQiOjAsIm1pIjoxfV0/bda06c2ea6/Chimera.png") !important; }

[data-id=vaal-temple-map-tier-16] { order: 10 !important; }
[data-id=vaal-temple-map-tier-16]::before { content: url("https://web.poecdn.com/gen/image/WzI4LDE0LHsiZiI6IjJESXRlbXMvTWFwcy9BdGxhczJNYXBzL05ldy9WYWFsVGVtcGxlQmFzZSIsInciOjEsImgiOjEsInNjYWxlIjoxLCJtbiI6MTIsIm10IjowfV0/509857e3ba/VaalTempleBase.png") !important; }



/* hide real map names */
.filter-group:first-child > .filter-group-body > .filter:nth-child(19) > .filter-options > div > span {
    display: none !important;
}

/* apply a short name to every map */
[data-id^="frozen-cabins-map-tier-"]::after { content: "Frozen Cabins"; }
[data-id^="overgrown-ruin-map-tier-"]::after { content: "Overgrown Ruin"; }
[data-id^="strand-map-tier-"]::after { content: "Strand"; }
[data-id^="terrace-map-tier-"]::after { content: "Terrace"; }
[data-id^="bramble-valley-map-tier-"]::after { content: "Bramble Valley"; }
[data-id^="carcass-map-tier-"]::after { content: "Carcass"; }
[data-id^="colosseum-map-tier-"]::after { content: "Colosseum"; }
[data-id^="crimson-temple-map-tier-"]::after { content: "Crimson Temple"; }
[data-id^="dark-forest-map-tier-"]::after { content: "Dark Forest"; }
[data-id^="excavation-map-tier-"]::after { content: "Excavation"; }
[data-id^="moon-temple-map-tier-"]::after { content: "Moon Temple"; }
[data-id^="thicket-map-tier-"]::after { content: "Thicket"; }
[data-id^="bone-crypt-map-tier-"]::after { content: "Bone Crypt"; }
[data-id^="caldera-map-tier-"]::after { content: "Caldera"; }
[data-id^="cells-map-tier-"]::after { content: "Cells"; }
[data-id^="defiled-cathedral-map-tier-"]::after { content: "Defiled Cathedral"; }
[data-id^="factory-map-tier-"]::after { content: "Factory"; }
[data-id^="museum-map-tier-"]::after { content: "Museum"; }
[data-id^="park-map-tier-"]::after { content: "Park"; }
[data-id^="waterways-map-tier-"]::after { content: "Waterways"; }
[data-id^="atoll-map-tier-"]::after { content: "Atoll"; }
[data-id^="chateau-map-tier-"]::after { content: "Chateau"; }
[data-id^="dungeon-map-tier-"]::after { content: "Dungeon"; }
[data-id^="laboratory-map-tier-"]::after { content: "Laboratory"; }
[data-id^="phantasmagoria-map-tier-"]::after { content: "Phantasmagoria"; }
[data-id^="primordial-pool-map-tier-"]::after { content: "Primordial Pool"; }
[data-id^="shore-map-tier-"]::after { content: "Shore"; }
[data-id^="vaal-pyramid-map-tier-"]::after { content: "Vaal Pyramid"; }
[data-id^="acid-caverns-map-tier-"]::after { content: "Acid Caverns"; }
[data-id^="coral-ruins-map-tier-"]::after { content: "Coral Ruins"; }
[data-id^="crater-map-tier-"]::after { content: "Crater"; }
[data-id^="crimson-township-map-tier-"]::after { content: "Crimson Township"; }
[data-id^="mud-geyser-map-tier-"]::after { content: "Mud Geyser"; }
[data-id^="shrine-map-tier-"]::after { content: "Shrine"; }
[data-id^="temple-map-tier-"]::after { content: "Temple"; }
[data-id^="wharf-map-tier-"]::after { content: "Wharf"; }
[data-id^="arachnid-tomb-map-tier-"]::after { content: "Arachnid Tomb"; }
[data-id^="dry-sea-map-tier-"]::after { content: "Dry Sea"; }
[data-id^="jungle-valley-map-tier-"]::after { content: "Jungle Valley"; }
[data-id^="lava-chamber-map-tier-"]::after { content: "Lava Chamber"; }
[data-id^="overgrown-shrine-map-tier-"]::after { content: "Overgrown Shrine"; }
[data-id^="plateau-map-tier-"]::after { content: "Plateau"; }
[data-id^="spider-forest-map-tier-"]::after { content: "Spider Forest"; }
[data-id^="arachnid-nest-map-tier-"]::after { content: "Arachnid Nest"; }
[data-id^="colonnade-map-tier-"]::after { content: "Colonnade"; }
[data-id^="fungal-hollow-map-tier-"]::after { content: "Fungal Hollow"; }
[data-id^="lair-map-tier-"]::after { content: "Lair"; }
[data-id^="mausoleum-map-tier-"]::after { content: "Mausoleum"; }
[data-id^="necropolis-map-tier-"]::after { content: "Necropolis"; }
[data-id^="summit-map-tier-"]::after { content: "Summit"; }
[data-id^="ancient-city-map-tier-"]::after { content: "Ancient City"; }
[data-id^="barrows-map-tier-"]::after { content: "Barrows"; }
[data-id^="bog-map-tier-"]::after { content: "Bog"; }
[data-id^="canyon-map-tier-"]::after { content: "Canyon"; }
[data-id^="ghetto-map-tier-"]::after { content: "Ghetto"; }
[data-id^="maze-map-tier-"]::after { content: "Maze"; }
[data-id^="wasteland-map-tier-"]::after { content: "Wasteland"; }
[data-id^="desert-map-tier-"]::after { content: "Desert"; }
[data-id^="dig-map-tier-"]::after { content: "Dig"; }
[data-id^="foundry-map-tier-"]::after { content: "Foundry"; }
[data-id^="pier-map-tier-"]::after { content: "Pier"; }
[data-id^="residence-map-tier-"]::after { content: "Residence"; }
[data-id^="villa-map-tier-"]::after { content: "Villa"; }
[data-id^="cold-river-map-tier-"]::after { content: "Cold River"; }
[data-id^="gardens-map-tier-"]::after { content: "Gardens"; }
[data-id^="leyline-map-tier-"]::after { content: "Leyline"; }
[data-id^="racecourse-map-tier-"]::after { content: "Racecourse"; }
[data-id^="stagnation-map-tier-"]::after { content: "Stagnation"; }
[data-id^="underground-river-map-tier-"]::after { content: "Underground River"; }
[data-id^="alleyways-map-tier-"]::after { content: "Alleyways"; }
[data-id^="arena-map-tier-"]::after { content: "Arena"; }
[data-id^="belfry-map-tier-"]::after { content: "Belfry"; }
[data-id^="castle-ruins-map-tier-"]::after { content: "Castle Ruins"; }
[data-id^="peninsula-map-tier-"]::after { content: "Peninsula"; }
[data-id^="precinct-map-tier-"]::after { content: "Precinct"; }
[data-id^="cemetery-map-tier-"]::after { content: "Cemetery"; }
[data-id^="cursed-crypt-map-tier-"]::after { content: "Cursed Crypt"; }
[data-id^="marshes-map-tier-"]::after { content: "Marshes"; }
[data-id^="port-map-tier-"]::after { content: "Port"; }
[data-id^="promenade-map-tier-"]::after { content: "Promenade"; }
[data-id^="silo-map-tier-"]::after { content: "Silo"; }
[data-id^="arsenal-map-tier-"]::after { content: "Arsenal"; }
[data-id^="lava-lake-map-tier-"]::after { content: "Lava Lake"; }
[data-id^="orchard-map-tier-"]::after { content: "Orchard"; }
[data-id^="pen-map-tier-"]::after { content: "Pen"; }
[data-id^="sulphur-vents-map-tier-"]::after { content: "Sulphur Vents"; }
[data-id^="armoury-map-tier-"]::after { content: "Armoury"; }
[data-id^="ashen-wood-map-tier-"]::after { content: "Ashen Wood"; }
[data-id^="mesa-map-tier-"]::after { content: "Mesa"; }
[data-id^="plaza-map-tier-"]::after { content: "Plaza"; }
[data-id^="underground-sea-map-tier-"]::after { content: "Underground Sea"; }
[data-id^="arcade-map-tier-"]::after { content: "Arcade"; }
[data-id^="dunes-map-tier-"]::after { content: "Dunes"; }
[data-id^="forking-river-map-tier-"]::after { content: "Forking River"; }
[data-id^="grotto-map-tier-"]::after { content: "Grotto"; }
[data-id^="vault-map-tier-"]::after { content: "Vault"; }
[data-id^="arid-lake-map-tier-"]::after { content: "Arid Lake"; }
[data-id^="forge-of-the-phoenix-map-tier-"]::after { content: "Forge of the Phoenix"; }
[data-id^="grave-trough-map-tier-"]::after { content: "Grave Trough"; }
[data-id^="lair-of-the-hydra-map-tier-"]::after { content: "Lair of the Hydra"; }
[data-id^="maze-of-the-minotaur-map-tier-"]::after { content: "Maze of the Minotaur"; }
[data-id^="pit-of-the-chimera-map-tier-"]::after { content: "Pit of the Chimera"; }
[data-id^="ramparts-map-tier-"]::after { content: "Ramparts"; }
[data-id^="waste-pool-map-tier-"]::after { content: "Waste Pool"; }
[data-id^="vaal-temple-map-tier-"]::after { content: "Vaal Temple"; }
[data-id^="fields-map-tier-"]::after { content: "Fields"; }
[data-id^="infested-valley-map-tier-"]::after { content: "Infested Valley"; }
[data-id^="primordial-blocks-map-tier-"]::after { content: "Primordial Blocks"; }
[data-id^="lighthouse-map-tier-"]::after { content: "Lighthouse"; }
[data-id^="scriptorium-map-tier-"]::after { content: "Scriptorium"; }
[data-id^="tower-map-tier-"]::after { content: "Tower"; }
[data-id^="city-square-map-tier-"]::after { content: "City Square"; }
[data-id^="courtyard-map-tier-"]::after { content: "Courtyard"; }
[data-id^="mineral-pools-map-tier-"]::after { content: "Mineral Pools"; }
[data-id^="pit-map-tier-"]::after { content: "Pit"; }
[data-id^="toxic-sewer-map-tier-"]::after { content: "Toxic Sewer"; }
[data-id^="forbidden-woods-map-tier-"]::after { content: "Forbidden Woods"; }
[data-id^="relic-chambers-map-tier-"]::after { content: "Relic Chambers"; }
[data-id^="crystal-ore-map-tier-"]::after { content: "Crystal Ore"; }
[data-id^="flooded-mine-map-tier-"]::after { content: "Flooded Mine"; }
[data-id^="shipyard-map-tier-"]::after { content: "Shipyard"; }
[data-id^="siege-map-tier-"]::after { content: "Siege"; }
[data-id^="beach-map-tier-"]::after { content: "Beach"; }
[data-id^="geode-map-tier-"]::after { content: "Geode"; }
[data-id^="malformation-map-tier-"]::after { content: "Malformation"; }
[data-id^="conservatory-map-tier-"]::after { content: "Conservatory"; }
[data-id^="desert-spring-map-tier-"]::after { content: "Desert Spring"; }
[data-id^="core-map-tier-"]::after { content: "Core"; }
[data-id^="tropical-island-map-tier-"]::after { content: "Tropical Island"; }
[data-id^="coves-map-tier-"]::after { content: "Coves"; }
[data-id^="volcano-map-tier-"]::after { content: "Volcano"; }

[data-id^="estuary-map-tier-"]::after { content: "Estuary"; }
[data-id^="lookout-map-tier-"]::after { content: "Lookout"; }
[data-id^="iceberg-map-tier-"]::after { content: "Iceberg"; }
[data-id^="graveyard-map-tier-"]::after { content: "Graveyard"; }
[data-id^="cage-map-tier-"]::after { content: "Cage"; }
[data-id^="bazaar-map-tier-"]::after { content: "Bazaar"; }
[data-id^="academy-map-tier-"]::after { content: "Academy"; }
[data-id^="haunted-mansion-map-tier-"]::after { content: "Haunted Mansion"; }
[data-id^="basilica-map-tier-"]::after { content: "Basilica"; }
[data-id^="courthouse-map-tier-"]::after { content: "Courthouse"; }
[data-id^="palace-map-tier-"]::after { content: "Palace"; }
[data-id^="sunken-city-map-tier-"]::after { content: "Sunken City"; }
[data-id^="glacier-map-tier-"]::after { content: "Glacier"; }
[data-id^="reef-map-tier-"]::after { content: "Reef"; }
[data-id^="channel-map-tier-"]::after { content: "Channel"; }
[data-id^="ivory-temple-map-tier-"]::after { content: "Ivory Temple"; }
